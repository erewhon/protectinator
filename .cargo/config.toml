# Platform-specific build configuration for static linking

# Linux: musl for fully static binary
[target.x86_64-unknown-linux-musl]
rustflags = ["-C", "target-feature=+crt-static", "-C", "link-self-contained=yes"]

[target.aarch64-unknown-linux-musl]
linker = "scripts/zig-cc-aarch64-linux-musl"
rustflags = ["-C", "target-feature=+crt-static", "-C", "link-self-contained=no"]

# Windows: Static CRT linking (for future Windows support)
[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "target-feature=+crt-static"]

[target.x86_64-pc-windows-gnu]
rustflags = ["-C", "target-feature=+crt-static"]

# macOS: Cannot be fully static, but these are the recommended settings
[target.x86_64-apple-darwin]
rustflags = []

[target.aarch64-apple-darwin]
rustflags = []
